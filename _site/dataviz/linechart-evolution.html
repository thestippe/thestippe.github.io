<!DOCTYPE html>
<html lang="en"><head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-W9G73E5P44"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-W9G73E5P44');
</script>
          <link rel="icon" 
                type="image/png" 
                href="/docs/assets/images/dp_icon.png">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Evolutions of the line chart | Data Perspectives</title>
<meta name="generator" content="Jekyll v3.9.5" />
<meta property="og:title" content="Evolutions of the line chart" />
<meta name="author" content="Data-perspectives" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="When a linechart is not enough" />
<meta property="og:description" content="When a linechart is not enough" />
<link rel="canonical" href="http://localhost:4000/dataviz/linechart-evolution" />
<meta property="og:url" content="http://localhost:4000/dataviz/linechart-evolution" />
<meta property="og:site_name" content="Data Perspectives" />
<meta property="og:image" content="http://localhost:4000/docs/assets/images/linechart_evolutions/areaplot.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-10-18T00:00:00+00:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="http://localhost:4000/docs/assets/images/linechart_evolutions/areaplot.png" />
<meta property="twitter:title" content="Evolutions of the line chart" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Data-perspectives"},"dateModified":"2023-10-18T00:00:00+00:00","datePublished":"2023-10-18T00:00:00+00:00","description":"When a linechart is not enough","headline":"Evolutions of the line chart","image":"http://localhost:4000/docs/assets/images/linechart_evolutions/areaplot.png","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/dataviz/linechart-evolution"},"url":"http://localhost:4000/dataviz/linechart-evolution"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Data Perspectives" />


<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>


<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML">
</script>
<a rel="me" href="https://vis.social/@thestippe" style="display: none;">Mastodon</a>
<link rel="manifest" href="manifest.json">
</head>
<body>

        <div id='upperBar'><header class="site-header">

        <div id='upperBarr'>
        <script src="https://d3js.org/d3.v7.js"></script>
                <div class="wrapper" style="display:flex;">

                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    
                    
                    
                    
                    

        <ul hidden='hidden' id="postList"><li>
                        Fitting complex models;/statistics/complex_models;1
                </li><li>
                        Directional statistics;/statistics/directional;2
                </li><li>
                        Horseshoe priors;/statistics/horseshoe;3
                </li><li>
                        MRP;/statistics/mrp;4
                </li><li>
                        Differential equations;/statistics/ode;5
                </li><li>
                        Dirichlet Process Mixture Models;/statistics/dp;6
                </li><li>
                        Bayesian Additive Regression Trees;/statistics/bart;7
                </li><li>
                        Splines;/statistics/spline;8
                </li><li>
                        Gaussian processes regression;/statistics/gp_example;9
                </li><li>
                        Gaussian processes;/statistics/gp;10
                </li><li>
                        Nonparametric models;/statistics/nonparametric_intro;11
                </li><li>
                        Stochastic volatility models;/statistics/stochastic_volatility;12
                </li><li>
                        Time series;/statistics/time_series;13
                </li><li>
                        Structural time series;/statistics/structural_time_series;14
                </li><li>
                        Quantile regression;/statistics/extreme_quantile;15
                </li><li>
                        Introduction to Extreme Values theory;/statistics/extreme_intro;16
                </li><li>
                        Time_series;/time_series;17
                </li><li>
                        Survival_example_2;/survival_example_2;18
                </li><li>
                        Survival_example;/survival_example;19
                </li><li>
                        Survival_analysis;/survival_analysis;20
                </li><li>
                        Structural_time_series;/structural_time_series;21
                </li><li>
                        Spline;/spline;22
                </li><li>
                        Ode;/ode;23
                </li><li>
                        Nonparametric_intro;/nonparametric_intro;24
                </li><li>
                        Mrp;/mrp;25
                </li><li>
                        Lotka_volterra;/lotka_volterra;26
                </li><li>
                        Horseshoe;/horseshoe;27
                </li><li>
                        Gp_example;/gp_example;28
                </li><li>
                        Gp;/gp;29
                </li><li>
                        Extreme_intro;/extreme_intro;30
                </li><li>
                        Dp;/dp;31
                </li><li>
                        Bart;/bart;32
                </li><li>
                        Application of survival analysis with discrete times;/statistics/survival_example_2;33
                </li><li>
                        Application of survival analysis 1;/statistics/survival_example;34
                </li><li>
                        Introduction to survival analysis;/statistics/survival_analysis;35
                </li><li>
                        Rdd;/rdd;36
                </li><li>
                        Regression discontinuity design;/statistics/rdd;37
                </li><li>
                        Difference_in_differences;/difference_in_differences;38
                </li><li>
                        Difference in difference;/statistics/difference_in_differences;39
                </li><li>
                        Instrumental_variable;/instrumental_variable;40
                </li><li>
                        Instrumental variable regression;/statistics/instrumental_variable;41
                </li><li>
                        Randomized;/randomized;42
                </li><li>
                        Randomized controlled trials;/statistics/randomized;43
                </li><li>
                        Causal_intro_2;/causal_intro_2;44
                </li><li>
                        Causal inference and Bayesian networks;/statistics/causal_intro_2;45
                </li><li>
                        Causal_intro;/causal_intro;46
                </li><li>
                        Causal inference;/statistics/causal_intro;47
                </li><li>
                        Nested_factors;/nested_factors;48
                </li><li>
                        Nested factor;/statistics/nested_factors;49
                </li><li>
                        Repeated_measures;/repeated_measures;50
                </li><li>
                        Repeated measures;/statistics/repeated_measures;51
                </li><li>
                        Split_plot;/split_plot;52
                </li><li>
                        Split plot design;/statistics/split_plot;53
                </li><li>
                        Crossover Design;/crossover-design;54
                </li><li>
                        Crossover design;/statistics/crossover-design;55
                </li><li>
                        Latin_square;/latin_square;56
                </li><li>
                        Latin square design;/statistics/latin_square;57
                </li><li>
                        Full_factorial;/full_factorial;58
                </li><li>
                        Full factorial design;/statistics/full_factorial;59
                </li><li>
                        Crd;/crd;60
                </li><li>
                        Completely randomized design;/statistics/crd;61
                </li><li>
                        Doe;/doe;62
                </li><li>
                        Design of experiments;/statistics/doe;63
                </li><li>
                        Validity;/statistics/validity;64
                </li><li>
                        Validity;/validity;65
                </li><li>
                        Stratification;/statistics/stratification;66
                </li><li>
                        Random_sampling;/random_sampling;67
                </li><li>
                        Random sampling;/statistics/random_sampling;68
                </li><li>
                        Data_collection;/data_collection;69
                </li><li>
                        Data collection;/statistics/data_collection;70
                </li><li>
                        Problem_solving_issues;/problem_solving_issues;71
                </li><li>
                        Things that could go wrong;/statistics/problem_solving_issues;72
                </li><li>
                        Problem_solving;/problem_solving;73
                </li><li>
                        The problem solving workflow;/statistics/problem_solving;74
                </li><li>
                        Three_levels;/three_levels;75
                </li><li>
                        Mixed effects models with more than two levels;/statistics/three_levels;76
                </li><li>
                        Bambi_multilevel;/bambi_multilevel;77
                </li><li>
                        Leveraging mixed-effect models;/statistics/bambi_multilevel;78
                </li><li>
                        Random models and mixed models;/statistics/random_models;79
                </li><li>
                        Hierarchical models and meta-analysis;/statistics/hierarchical_metaanalysis;80
                </li><li>
                        Hierarchical models;/statistics/hierarchical_models;81
                </li><li>
                        Poisson regression;/statistics/poisson_regression;82
                </li><li>
                        Logistic regression;/statistics/logistic_regression;83
                </li><li>
                        Robust linear regression;/statistics/robust_regression;84
                </li><li>
                        Multi-linear regression;/statistics/multivariate_regression;85
                </li><li>
                        Linear regression with binary input;/statistics/regression_binary_input;86
                </li><li>
                        Operations on vector data;/gis/vector_ops;87
                </li><li>
                        Introduction to the linear regression;/statistics/regression;88
                </li><li>
                        101 ways to reproject your data;/gis/pyproj;89
                </li><li>
                        Model comparison, cont.;/statistics/model_averaging_cont;90
                </li><li>
                        Model comparison;/statistics/model_averaging;91
                </li><li>
                        Application of the Lotka-Volterra model;/statistics/lotka_volterra;92
                </li><li>
                        Raster data;/gis/raster_data;93
                </li><li>
                        Vector data;/gis/vector_data;94
                </li><li>
                        Choosing the right projection;/gis/projections;95
                </li><li>
                        Introduction to geographic data analysis;/gis/gis_intro;96
                </li><li>
                        Re-parametrizing your model;/statistics/reparametrization;97
                </li><li>
                        Predictive checks;/statistics/predictive_checks;98
                </li><li>
                        Trace inspection;/statistics/trace_inspection;99
                </li><li>
                        Introduction to the Bayesian workflow;/statistics/bayesian_workflow;100
                </li><li>
                        Mixture models;/statistics/mixture;101
                </li><li>
                        Multidimensional distributions;/statistics/categories;102
                </li><li>
                        The Gaussian model;/statistics/reals;103
                </li><li>
                        Bonus: counting animals in a park;/statistics/hypergeom;104
                </li><li>
                        The Negative Binomial model;/statistics/negbin;105
                </li><li>
                        The Poisson model;/statistics/poisson;106
                </li><li>
                        The Beta-Binomial model;/statistics/betabin;107
                </li><li>
                        Section introduction;/statistics/simple_models_intro;108
                </li><li>
                        Some notation about probability;/statistics/probability_reminder;109
                </li><li>
                        How does MCMC works;/statistics/mcmc_intro;110
                </li><li>
                        Introduction to Bayesian inference;/statistics/bayes_intro;111
                </li><li>
                        An overview to statistics;/statistics/preface;112
                </li><li>
                        The Gestalt principles;/dataviz/gestalt;113
                </li><li>
                        Design tricks;/dataviz/design-introduction;114
                </li><li>
                        How to choose a color map;/dataviz/palettes-introduction;115
                </li><li>
                        Introduction to color perception;/dataviz/color-introduction;116
                </li><li>
                        Drawing is redrawing;/dataviz/gender-economist;117
                </li><li>
                        Visual queries;/dataviz/visual-queries;118
                </li><li>
                        Channel effectiveness;/dataviz/effectiveness;119
                </li><li>
                        Evolutions of the line chart;/dataviz/linechart-evolution;120
                </li><li>
                        Beyond the 1D scatterplot;/dataviz/scatterplot-evolution;121
                </li><li>
                        Perception;/dataviz/perception;122
                </li><li>
                        Fundamental charts;/dataviz/fundamental-charts;123
                </li><li>
                        Marks and channels;/dataviz/marks-channels;124
                </li><li>
                        Data abstraction;/dataviz/data-types;125
                </li><li>
                        Data visualization;/dataviz/dataviz;126
                </li></ul>
                        <div style="display:flex">
                  <a href="/dataviz/scatterplot-evolution" class="prev">&#8249;</a>
                  
                                <a href="/"><img class="site-masthead" src="/docs/assets/images/logo_dp.png" alt="Data Perspectives" id="logo" /></a><div id='searchNav' style="flex;">
                                        <input type="search" id="search_0" class="searchBar" onkeydown="searchText()" placeholder="Search">
                                </div>

                                <div hidden='hidden' id="search_focus">0</div>



                        </div><nav class="site-nav" style="display:flex;">
                                <input type="checkbox" id="nav-trigger" class="nav-trigger" />
                                <label for="nav-trigger">
                                        <span class="menu-icon">
                                                <svg viewBox="0 0 18 15" width="18px" height="15px">
                                                        <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
                                                </svg>
                                        </span>
                                </label>

                                <div class="trigger"><a  class="page-link" href="/about">About me</a><a  class="page-link" href="/links">Resources</a>
                                <a href="/dataviz/" class="page-link">Up</a>
                                
                                </div>
                        </nav>
                  <a href="/dataviz/effectiveness" class="next">&#8250;</a>
                  
        </div>


        <script src="/docs/assets/javascript/search.js">
        </script>
                </div>

</header>
<div class="progress-container">
    <div class="progress-bar" id="myBar"></div>
    </div>
        </div>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
          <div id='topPage'></div>
        <a href='/index'>
<img src="/docs/assets/images/background_resized.webp" alt="backround" style="margin:auto;display:block;width:1200px">

</a>
    <h1 class="post-title p-name" itemprop="name headline">Evolutions of the line chart</h1>
    <p class="post-meta"><time class="dt-published" datetime="2023-10-18T00:00:00+00:00" itemprop="datePublished">
        Oct 18, 2023
      </time></p>
    <p class="post-meta"> Reading time: <span class="reading-time" title="Estimated read time">
  
  3&prime;
</span>
</p>
  </header>
  <br>

  <div class="post-content e-content" itemprop="articleBody">
    <p>In a <a href="/fundamental-charts">previous post</a> we saw some of the most fundamental charts,
which are the basic building blocks for data visualization.</p>

<p>Datasets can become very complex, and you should adapt your data visualization
depending on your needs.
Here we will take a look at how we can draw more and more complex datasets
by simply changing few details of the basic visualization, and we will
do so by using the line chart as fundamental visualization.</p>

<h2 id="the-line-chart">The line chart</h2>

<p>As we have already seen, in the line chart we have</p>
<ul>
  <li>an ordered key attribute on the $x$ axis</li>
  <li>a quantitative value attribute on the $y$ axis</li>
</ul>

<p>As an example, let us take a look at evolution over the years the Italian GDP per capita expressed in US dollars adjusted by the US inflation, which can be found
<a href="https://github.com/thestippe/thestippe.github.io/blob/main/data/gdp_per_capita_filtered.csv">on the gitHub repo of the blog</a>.</p>

<p>The dataset is based on <a href="https://github.com/RaafatSaleh/GDP-per-capita-and-its-effect-on-the-man-life-quality/blob/master/Data/gdppercapita_us_inflation_adjusted.csv">Raafat Saleh’s repo</a>.</p>

<div id="linechart"> </div>
<script src="/docs/assets/javascript/linechart_evolution/linechart.js"> </script>

<p>This visualization allow us to see how a quantity (the GDP per capita)
changes over time, and it does that in a decent way.</p>

<h2 id="issues-with-the-line-chart">Issues with the line chart</h2>

<p>But what does it happen when we add a second categorical key attribute?
As an example, let’s try and visualize more than one Country in
a single plot.
Let us start by using color to encode the Country</p>

<div id="multiple_linechart"> </div>
<script src="/docs/assets/javascript/linechart_evolution/multiple_linechart.js"> </script>

<p>As the number of lines grows, the graph soon becomes more and more cluttered.
Already with a small number of lines it becomes difficult to catch the behavior
of a single line.</p>

<p>We have two main alternatives to the multiple line chart:</p>
<ul>
  <li>we can put one line chart per graph and we create a <strong>small multiples</strong></li>
  <li>we can use another channel to encode the value attribute
or, of course, we can combine the two techniques.</li>
</ul>

<h2 id="small-multiples">Small multiples</h2>

<p>Broadly speaking, when you build a small multiple you draw more than
one visualization, and each visualization is indexed by a label which is not
used in any of the single images.
This technique is also called faceting.</p>

<div id="sm_linechart"> </div>
<script src="/docs/assets/javascript/linechart_evolution/sm_linechart.js"> </script>

<p>Here we used small multiples to put one visualization on the right of the previous,
but you can also order them vertically or build a grid.</p>

<p>The main advantage of the small multiples is that they reduce clutter,
but it becomes more difficult to compare the single lines.</p>

<h2 id="stacked-area-chart">Stacked area chart</h2>

<p>If the value attribute is sequential as in our case (the GDP cannot become negative), another possible solution is to stack the lines one above the other one,
and this is done in the stacked area chart.</p>

<div id="stacked_chart"> </div>
<script src="/docs/assets/javascript/linechart_evolution/stacked_chart.js"> </script>

<p>The major issue with this solution is that, for all but the lowest curve,
the baseline is not constant, and this makes difficult to quantify the values.</p>

<h2 id="streamgraph">Streamgraph</h2>

<p>A stacked bar chart can become cumbersome when one has many channels, and in this
case one may use a streamgraph.</p>

<div id="steamgraph"> </div>
<script src="/docs/assets/javascript/linechart_evolution/steamgraph.js"> </script>

<p>The streamgraph is obtained by allowing the lower
line to vary, and either by making it symmetric with respect to the $x$ axis or by choosing it exact shape by minimizing some target quantity.
This method allows you to show
a large number of categories, but the main drawback
is that one needs some practice to read it.</p>

<h2 id="conclusions">Conclusions</h2>

<p>We have seen few possible evolutions of the line chart.
Those alternatives are appropriate when you want to plot the evolution of a quantitative variable
for a set of categories.
Faceting can be combined with anyone of the visualizations we have previous discussed, while stacking can 
only be applied to bar chart or line chart.
Finally, we have seen the streamgraph,
which uses an alternative way of stacking the lines.</p>

  </div><a class="u-url" href="/dataviz/linechart-evolution" hidden></a>

  <br>
  <div id='autograph'>
          Stippe Oct 18, 2023

  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>


  <div class="wrapper">
          <div class='footer-text'>
                  Opinions are mine, mistakes too, and if you find any feel free to report it via mail or via <del>Twitter</del> <a href="https://bsky.app/profile/stippe87.bsky.social">Bluesky</a>
                  <br>
                  Most of the material in the statistics section is an adaptation to Python of some pre-existing model.
                  <br>
                  I have tried to provide the necessary credits, but if you think that a relevant contribution is missing, please let me know.
                  <br>
                  No AI were harmed in creating this blog.
                  <br>
                  This is a blog, not a bakery: there are no cookies here!
                  <br>
                  The top image has been generated with a modified version Dan Gries' code, available at <a href="http://rectangleworld.com/blog/archives/538">http://rectangleworld.com</a>.
          </div>
          <br>

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="http://localhost:4000/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
        <ul class="contact-list">
          <li class="p-name">Data-perspectives</li>
          <li><a class="u-email" href="mailto:dataperspectivesblog@gmail.com">dataperspectivesblog@gmail.com</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <p></p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li>
  <a rel="me" href="https://stackoverflow.com/users/11065831/stefano" target="_blank" title="stackoverflow">
    <svg class="svg-icon grey">
      <use xlink:href="/assets/minima-social-icons.svg#stackoverflow"></use>
    </svg>
  </a>
</li>
<li>
  <a rel="me" href="https://github.com/thestippe/" target="_blank" title="github">
    <svg class="svg-icon grey">
      <use xlink:href="/assets/minima-social-icons.svg#github"></use>
    </svg>
  </a>
</li>
<li>
  <a rel="me" href="https://vis.social/@thestippe" target="_blank" title="mastodon">
    <svg class="svg-icon grey">
      <use xlink:href="/assets/minima-social-icons.svg#mastodon"></use>
    </svg>
  </a>
</li>
</ul>
</div>

  </div>

</footer>
</body>

  <script src="/docs/assets/javascript/scroll.js">
  </script>

</html>

