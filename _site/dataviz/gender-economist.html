<!DOCTYPE html>
<html lang="en"><head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-W9G73E5P44"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-W9G73E5P44');
</script>
          <link rel="icon" 
                type="image/png" 
                href="/docs/assets/images/dp_icon.png">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Drawing is redrawing | Data Perspectives</title>
<meta name="generator" content="Jekyll v3.9.5" />
<meta property="og:title" content="Drawing is redrawing" />
<meta name="author" content="Data-perspectives" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="How to tackle real life dataviz problems" />
<meta property="og:description" content="How to tackle real life dataviz problems" />
<link rel="canonical" href="http://localhost:4000/dataviz/gender-economist" />
<meta property="og:url" content="http://localhost:4000/dataviz/gender-economist" />
<meta property="og:site_name" content="Data Perspectives" />
<meta property="og:image" content="http://localhost:4000/docs/assets/images/gender_economist/original.webp" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-11-20T00:00:00+00:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="http://localhost:4000/docs/assets/images/gender_economist/original.webp" />
<meta property="twitter:title" content="Drawing is redrawing" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Data-perspectives"},"dateModified":"2023-11-20T00:00:00+00:00","datePublished":"2023-11-20T00:00:00+00:00","description":"How to tackle real life dataviz problems","headline":"Drawing is redrawing","image":"http://localhost:4000/docs/assets/images/gender_economist/original.webp","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/dataviz/gender-economist"},"url":"http://localhost:4000/dataviz/gender-economist"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Data Perspectives" />


<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>


<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML">
</script>
<a rel="me" href="https://vis.social/@thestippe" style="display: none;">Mastodon</a>
<link rel="manifest" href="manifest.json">
</head>
<body>

        <div id='upperBar'><header class="site-header">

        <div id='upperBarr'>
        <script src="https://d3js.org/d3.v7.js"></script>
                <div class="wrapper" style="display:flex;"><ul hidden='hidden' id="postList"><li>
                        How does MCMC works;/statistics/mcmc_intro;1
                </li><li>
                        Introduction to bayesian statistics;/statistics/bayes_intro;2
                </li><li>
                        The autoregressive model;/statistics/autoregressive;3
                </li><li>
                        Introduction to time series modelling;/statistics/time_series;4
                </li><li>
                        Synthetic control;/statistics/synthetic_control;5
                </li><li>
                        Regression discontinuity ;/statistics/discontinuity_regression;6
                </li><li>
                        Difference in difference;/statistics/difference_in_differences;7
                </li><li>
                        Instrumental variable regression;/statistics/instrumental_variable;8
                </li><li>
                        Randomized controlled trials;/statistics/randomized;9
                </li><li>
                        Causal inference;/statistics/causal_intro;10
                </li><li>
                        Random models and mixed models;/statistics/random_models;11
                </li><li>
                        Introduction to Extreme Values theory;/statistics/extreme_intro;12
                </li><li>
                        Application of survival analysis 1;/statistics/survival_example;13
                </li><li>
                        Introduction to survival analysis;/statistics/survival_analysis;14
                </li><li>
                        Hierarchical models and meta-analysis;/statistics/hierarchical_metaanalysis;15
                </li><li>
                        Hierarchical models;/statistics/hierarchical_models;16
                </li><li>
                        Poisson regression;/statistics/poisson_regression;17
                </li><li>
                        Logistic regression;/statistics/logistic_regression;18
                </li><li>
                        Robust linear regression;/statistics/robust_regression;19
                </li><li>
                        Introduction to the linear regression;/statistics/regression;20
                </li><li>
                        Model comparison;/statistics/model_averaging;21
                </li><li>
                        Predictive checks;/statistics/predictive_checks;22
                </li><li>
                        Trace inspection;/statistics/trace_inspection;23
                </li><li>
                        Introduction to the Bayesian workflow;/statistics/bayesian_workflow;24
                </li><li>
                        Mixture models;/statistics/mixture;25
                </li><li>
                        Multidimensional distributions;/statistics/categories;26
                </li><li>
                        Exponential model, gaussian model and their evolutions;/statistics/reals;27
                </li><li>
                        The Negative Binomial model;/statistics/negbin;28
                </li><li>
                        The Poisson model;/statistics/poisson;29
                </li><li>
                        The Beta-Binomial model;/statistics/betabin;30
                </li><li>
                        Common continuous probabilities;/statistics/common_continuous_probabilities;31
                </li><li>
                        Common discrete probabilities;/statistics/common_discrete_probabilities;32
                </li><li>
                        Design tricks;/dataviz/design-introduction;33
                </li><li>
                        How to choose a color map;/dataviz/palettes-introduction;34
                </li><li>
                        Introduction to color perception;/dataviz/color-introduction;35
                </li><li>
                        Drawing is redrawing;/dataviz/gender-economist;36
                </li><li>
                        Visual queries;/dataviz/visual-queries;37
                </li><li>
                        The Gestalt principles;/dataviz/gestalt;38
                </li><li>
                        Channel effectiveness;/dataviz/effectiveness;39
                </li><li>
                        Evolutions of the line chart;/dataviz/linechart-evolution;40
                </li><li>
                        Beyond the 1D scatterplot;/dataviz/scatterplot-evolution;41
                </li><li>
                        Perception;/dataviz/perception;42
                </li><li>
                        Fundamental charts;/dataviz/fundamental-charts;43
                </li><li>
                        Marks and channels;/dataviz/marks-channels;44
                </li><li>
                        Data abstraction;/dataviz/data-types;45
                </li><li>
                        Data visualization;/dataviz/dataviz;46
                </li></ul>
                        <div style="display:flex">
                  <a href="/dataviz/visual-queries" class="prev">&#8249;</a>
                  
                                <a href="/"><img class="site-masthead" src="/docs/assets/images/logo_dp.png" alt="Data Perspectives" id="logo" /></a><div id='searchNav' style="flex;">
                                        <input type="search" id="search_0" class="searchBar" onkeydown="searchText()" placeholder="Search">
                                </div>

                                <div hidden='hidden' id="search_focus">0</div>



                        </div><nav class="site-nav" style="display:flex;">
                                <input type="checkbox" id="nav-trigger" class="nav-trigger" />
                                <label for="nav-trigger">
                                        <span class="menu-icon">
                                                <svg viewBox="0 0 18 15" width="18px" height="15px">
                                                        <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
                                                </svg>
                                        </span>
                                </label>

                                <div class="trigger"><a  class="page-link" href="/about">About me</a><a  class="page-link" href="/links">Resources</a>
                                <a href="/dataviz/" class="page-link">Up</a>
                                
                                </div>
                        </nav>
                  <a href="/dataviz/color-introduction" class="next">&#8250;</a>
                  
        </div>


        <script src="/docs/assets/javascript/search.js">
        </script>
                </div>

</header>
<div class="progress-container">
    <div class="progress-bar" id="myBar"></div>
    </div>
        </div>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
          <div id='topPage'></div>
        <a href='/index'>
<img src="/docs/assets/images/background_resized.webp" alt="backround" style="margin:auto;display:block;width:1200px">

</a>
    <h1 class="post-title p-name" itemprop="name headline">Drawing is redrawing</h1>
    <p class="post-meta"><time class="dt-published" datetime="2023-11-20T00:00:00+00:00" itemprop="datePublished">
        Nov 20, 2023
      </time></p>
    <p class="post-meta"> Reading time: <span class="reading-time" title="Estimated read time">
  
  6&prime;
</span>
</p>
  </header>
  <br>

  <div class="post-content e-content" itemprop="articleBody">
    <p>Sometimes you must deal with constraints in dataviz, and finding the most
suitable way to tackle your problem is not always easy.
This is the case of the challenge launched by Sarah Leo, a visual data journalist
working at the Economist in <a href="https://medium.economist.com/mistakes-weve-drawn-a-few-8cdd8a42d368">this post</a>.</p>

<p>Among designers there is a well know saying which states “Designing is redesigning”, and this also holds 
when you are designing a data visualization.
In the above post, Sarah critically analyzes some issues of the past visualizations of her journal,
and she explain how she would have corrected them.
When talking about dataviz, the Economist is one of my favourites journals, as their graphics are usually very clean and polished.
However, I agree with Sarah, those shown in her post are not their best works.</p>

<p>In the last example, taken from
a 2017 article titled <a href="https://www.economist.com/science-and-technology/2017/03/11/science-remains-male-dominated">“Science remains male dominated”</a>
she analyzes the following image
<img src="/docs/assets/images/gender_economist/original.webp" alt="gender economist" />
and, as you may notice from the right hand side of the figure, she decided not to redesign the chart, as the space constraints are too stringent.</p>

<h2 id="my-first-attempt">My first attempt</h2>

<p>I decided to try and redo it by myself, so first of all I analyzed the information we wanted to plot.</p>
<ul>
  <li>The first attribute is the Country, which is a categorical attribute.</li>
  <li>We then have the research field, which is another categorical attribute.</li>
  <li>We finally have the percentage of women, which is a quantitative attribute.</li>
</ul>

<p>As a “special” information we also have the percentage of inventors, which is somehow different from a research field,
and of course Sarah shows this different by using a different marker for this attribute.</p>

<p>Probably the best possible approach would be to draw a bar chart where, for each research field,
we show the percentage of women, but this would take quite a large amount of space, so I immediately discarded this idea.</p>

<p>The structure of the data itself should suggest another possible approach: why don’t we draw a matrix?
This would save some space, and by using area as
channel to encode the women percentage we could easily encode all the informations.
Here’s the result.</p>

<link rel="stylesheet" href="/docs/assets/css/gender.css" />

<script src="https://d3js.org/d3.v5.js"></script>

<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>

<div id="gender_area"></div>
<script src="/docs/assets/javascript/gender_economist/gender_area.js"></script>

<p>The visualization is quite clear, and less cluttered than the original one.
I don’t know which were exactly the requirements of the editor,
but comparing the size of the above image with the original one, maybe it would have
been OK.
Note that we also remarked the difference between the inventor percentage
and the research fields by using a different font weight
together with a different background color, as those
are common tricks in graphics and typography.</p>

<p>But there is some issue: how would you estimate the percentage of women
in Australia in the healthcare sector?</p>

<p>Honestly I would say about 70%, maybe even 80%.
Well, <em>it’s exactly 50%!</em>
I immediately asked myself if there was a bug in the code, so I printed
the size for 100% women and the one for 50%.
I got 60 (as expected) and 42.63, their reciprocal ratio is 0.707
which is roughly the square root of 0.5, so there’s no bug!</p>

<div class="emphbox">
The issue is that, on average, humans are very bad at estimating
areas, and we tend to use the size of the square side rather than
the square area to decode the information.
</div>

<p>This is a well known issue, and we will discuss this in a future post.
So how can we solve this issue?</p>

<h2 id="using-color-instead-of-area">Using color instead of area</h2>

<p>As we have seen when talking about
channel effectiveness, color is even worst than area to encode
quantitative information, but let us try and do that anyway.</p>

<div id="gender_color_first"></div>
<script src="/docs/assets/javascript/gender_economist/gender_color_first.js"></script>

<p>In redrawing the figure, I removed the gray background.
I did so because, as we will see in a future post,
our perception of color difference is quite strongly affected by the color background, so I considered
the information provided by the color background
not relevant enough to risk a distortion in the perception
of the color difference among the last column and the remaining columns.</p>

<p>Actually I find slightly easier to decode the information, but still
it’s hard to say if we are above or below 50%.</p>

<h2 id="finding-the-appropriate-palette-class">Finding the appropriate palette class</h2>

<p>In order to solve this issue we must rethink our visualization, and we must do that
by keeping in mind what is the true quantity that we want to decode,
which is the gender imbalance.</p>

<p>We don’t need a channel that exactly tells us the percentage of women,
but rather we want to know how far are we from 50% and in which direction.</p>

<p>There’s a class of color palettes which is suitable for our purposes,
and it’s the family of the diverging color palettes.
Let’s take a look and see how would a diverging color palette
work for our purpose.</p>

<div id="gender_color"></div>
<script src="/docs/assets/javascript/gender_economist/gender_color.js"></script>

<p>Here it’s much easier to decode the relevant quantity, and we used exactly the same
space we used in the first visualization we made.
Now we can immediately spot that all but the firs columns are above 50%, that Japan is likely the worst
country, that Brazil and Portugal are the best ones and that the research area where it’s morel likely
to encounter women is health science.
Moreover, in health science the percentage of men and women is more or less 50-50 in most countries, where the balance is
just slightly in favour of men <sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote" rel="footnote">1</a></sup>.
We can also see that physics, engineering and math have roughly the same distribution, and that the percentage of
women inventors is almost always lower than the percentage of women researcher in any field.
This is quite a large amount of information in my opinion, so I feel quite satisfied by this solution.</p>

<div class="emphbox">
Use diverging color palettes to encode how far are your data from a certain point.
</div>

<h2 id="conclusions">Conclusions</h2>

<p>This post was about a real application, and in these situations there are many things to consider, so we touched many aspects of data visualization.
The main things I’d like to stress you about are the following:</p>

<ul>
  <li>Always make sure that there are no bugs in your visualization.</li>
  <li>Always keep in mind what you want to show, and state this information as clearly as possible.</li>
  <li>Always try different designs for your visualizations, choose the ones which look more promising and refine them, then reiterate.</li>
  <li>Data visualization is about choosing among options, and each option will have pros and cons. This is the reason why I never trust who gives me recipes, they rarely work in real life.</li>
</ul>

<p>Moreover, as secondary more practical things to keep in mind:</p>
<ul>
  <li>We are bad at estimating areas as well as at estimating color variations, so always consider using distance or length as channel to encode relevant informations, as suggested by the effectiveness principle.</li>
  <li>Use diverging color palettes to encode distances from a given relevant point.</li>
</ul>

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:1" role="doc-endnote">
      <p>I preferred this color scheme with respect to the more common red-blue one because I found easier to infer if a value close to 0.5 was slightly above or below 0.5. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>

  </div><a class="u-url" href="/dataviz/gender-economist" hidden></a>

  <div>
          
          
  </div>

  <br>
  <div id='autograph'>
          Stippe Nov 20, 2023

  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>


  <div class="wrapper">
          <div class='footer-text'>

                  No AI were harmed in creating this blog.
                  <br>
                  This is a blog, not a bakery: there are no cookies here!
                  <br>
                  The top image has been generated with a modified version Dan Gries' code, available at <a href="http://rectangleworld.com/blog/archives/538">http://rectangleworld.com</a>.
          </div>
          <br>

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="http://localhost:4000/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
        <ul class="contact-list">
          <li class="p-name">Data-perspectives</li>
          <li><a class="u-email" href="mailto:dataperspectivesblog@gmail.com">dataperspectivesblog@gmail.com</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <p></p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li>
  <a rel="me" href="https://twitter.com/SteffPy" target="_blank" title="twitter">
    <svg class="svg-icon grey">
      <use xlink:href="/assets/minima-social-icons.svg#twitter"></use>
    </svg>
  </a>
</li>
<li>
  <a rel="me" href="https://stackoverflow.com/users/11065831/stefano" target="_blank" title="stackoverflow">
    <svg class="svg-icon grey">
      <use xlink:href="/assets/minima-social-icons.svg#stackoverflow"></use>
    </svg>
  </a>
</li>
<li>
  <a rel="me" href="https://github.com/thestippe/" target="_blank" title="github">
    <svg class="svg-icon grey">
      <use xlink:href="/assets/minima-social-icons.svg#github"></use>
    </svg>
  </a>
</li>
<li>
  <a rel="me" href="https://vis.social/@thestippe" target="_blank" title="mastodon">
    <svg class="svg-icon grey">
      <use xlink:href="/assets/minima-social-icons.svg#mastodon"></use>
    </svg>
  </a>
</li>
</ul>
</div>

  </div>

</footer>
</body>

  <script src="/docs/assets/javascript/scroll.js">
  </script>

</html>

